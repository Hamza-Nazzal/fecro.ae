diff --git a/src.zip b/src.zip
index 4f58798..6a617f6 100644
Binary files a/src.zip and b/src.zip differ
diff --git a/src/App.js b/src/App.js
index da03add..de2a8e8 100644
--- a/src/App.js
+++ b/src/App.js
@@ -1,10 +1,13 @@
+// src/App.js
 import React from "react";
 import "./App.css";
 
 import { BrowserRouter, Routes, Route, Navigate, useLocation } from "react-router-dom";
 import { AuthProvider, useAuth } from "./contexts/AuthContext";
+import { PreviewProvider } from "./contexts/PreviewContext";
 import ErrorBoundary from "./components/ErrorBoundary.jsx";
 import DualModeScreen from "./pages/DualModeScreen.jsx";
+import DualModeScreenPreview from "./pages/DualModeScreenPreview.jsx";
 import LoginPage from "./pages/LoginPage";
 import Products from "./pages/Products.jsx";
 import Diag from "./pages/Diag.jsx";
@@ -14,12 +17,17 @@ import AdminDashboard from './pages/admin/AdminDashboard';
 
 // NEW
 import ToastProvider from "./components/Toasts.jsx";
+import PreviewToggle from "./components/PreviewToggle.jsx";
 
 // These routes were added earlier
 import BuyerDashboard from "./components/BuyerDashboard.jsx";
 import BuyerRFQDetail from "./components/BuyerRFQDetail.jsx";
 import SellerQuoteComposer from "./components/SellerQuoteComposer.jsx";
 
+
+console.log(process.env.REACT_APP_SELLER_HYDRATE_ENABLED); // should log "true"
+
+
 function AfterLoginRedirect() {
   const { user } = useAuth();
   if (!user) return <Navigate to="/login" replace />;
@@ -58,8 +66,9 @@ export default function App() {
   return (
     <ErrorBoundary>
       <AuthProvider>
-        <ToastProvider>
-          <BrowserRouter>
+        <PreviewProvider>
+          <ToastProvider>
+            <BrowserRouter>
             <Routes>
               <Route path="/" element={<Navigate to="/start" replace />} />
               <Route path="/login" element={<LoginPage />} />
@@ -101,6 +110,24 @@ export default function App() {
                 }
               />
 
+              {/* Preview routes for UI redesign */}
+              <Route
+                path="/preview/buyer"
+                element={
+                  <RequireAuth>
+                    <DualModeScreenPreview initialMode="buy" locked />
+                  </RequireAuth>
+                }
+              />
+              <Route
+                path="/preview/seller"
+                element={
+                  <RequireAuth>
+                    <DualModeScreenPreview initialMode="sell" locked />
+                  </RequireAuth>
+                }
+              />
+
               {/* NEW routes kept from earlier steps */}
               <Route path="/buyer/rfqs" element={<RequireAuth><BuyerDashboard /></RequireAuth>} />
               <Route path="/buyer/rfq/:rfqId" element={<RequireAuth><BuyerRFQDetail /></RequireAuth>} />
@@ -117,9 +144,11 @@ export default function App() {
 
               <Route path="*" element={<Navigate to="/start" replace />} />
             </Routes>
+            <PreviewToggle />
           </BrowserRouter>
         </ToastProvider>
-      </AuthProvider>
+      </PreviewProvider>
+    </AuthProvider>
     </ErrorBoundary>
   );
 }
diff --git a/src/App.test.js b/src/App.test.js
index 1f03afe..cfd15e8 100644
--- a/src/App.test.js
+++ b/src/App.test.js
@@ -1,3 +1,4 @@
+// src/App.test.js
 import { render, screen } from '@testing-library/react';
 import App from './App';
 
diff --git a/src/components/BuyerDashboard.jsx b/src/components/BuyerDashboard.jsx
index f5b3bf6..6a65468 100644
--- a/src/components/BuyerDashboard.jsx
+++ b/src/components/BuyerDashboard.jsx
@@ -1,3 +1,4 @@
+// src/components/BuyerDashboard.jsx
 import React from "react";
 import BuyerRFQsInline from "./BuyerRFQsInline";
 
diff --git a/src/components/BuyerQuotationsViewer.jsx b/src/components/BuyerQuotationsViewer.jsx
index c17a223..bfe2662 100644
--- a/src/components/BuyerQuotationsViewer.jsx
+++ b/src/components/BuyerQuotationsViewer.jsx
@@ -1,3 +1,4 @@
+// src/components/BuyerQuotationsViewer.jsx
 //src/components/BuyerQuotationsViewer.jsx
 import React, { useState } from "react";
 import { useOnceEffect } from "../hooks/useOnceEffect";
diff --git a/src/components/BuyerRFQDetail.jsx b/src/components/BuyerRFQDetail.jsx
index d4bfe08..2fe9dee 100644
--- a/src/components/BuyerRFQDetail.jsx
+++ b/src/components/BuyerRFQDetail.jsx
@@ -1,3 +1,4 @@
+// src/components/BuyerRFQDetail.jsx
 import React, { useEffect, useMemo, useRef, useState } from "react";
 import { useParams, Link } from "react-router-dom";
 import {
diff --git a/src/components/ErrorBoundary.jsx b/src/components/ErrorBoundary.jsx
index 3edf713..7e8e318 100644
--- a/src/components/ErrorBoundary.jsx
+++ b/src/components/ErrorBoundary.jsx
@@ -1,3 +1,4 @@
+// src/components/ErrorBoundary.jsx
 import React from 'react';
 
 class ErrorBoundary extends React.Component {
diff --git a/src/components/Header.jsx b/src/components/Header.jsx
index 0e13f75..fe4ca61 100644
--- a/src/components/Header.jsx
+++ b/src/components/Header.jsx
@@ -1,3 +1,4 @@
+// src/components/Header.jsx
 import { useAuth } from "../contexts/AuthContext";
 import { Link } from "react-router-dom";
 
diff --git a/src/components/QuotationCard.jsx b/src/components/QuotationCard.jsx
index 1042e1e..4359651 100644
--- a/src/components/QuotationCard.jsx
+++ b/src/components/QuotationCard.jsx
@@ -1,3 +1,4 @@
+// src/components/QuotationCard.jsx
 //src/components/QuotationCard.jsx
 import { useState } from 'react';
 import { Check, X, Eye, Edit, Trash2, Clock, AlertTriangle } from 'lucide-react';
@@ -69,7 +70,7 @@ export default function QuotationCard({
           
           {rfqData && (
             <p className="text-sm text-gray-600">
-              for <span className="font-medium">{rfqData.publicId || rfqData.title}</span>
+              for <span className="font-medium">{rfqData.sellerIdDisplay || rfqData.title}</span>
             </p>
           )}
         </div>
diff --git a/src/components/QuotationForm.jsx b/src/components/QuotationForm.jsx
index 1d706b3..1cdd0de 100644
--- a/src/components/QuotationForm.jsx
+++ b/src/components/QuotationForm.jsx
@@ -1,3 +1,4 @@
+// src/components/QuotationForm.jsx
 //src/components/QuotationForm.jsx
 import React from "react";
 import { Plus, Trash2, Send, X, Loader2 } from "lucide-react";
diff --git a/src/components/QuotationModal.jsx b/src/components/QuotationModal.jsx
index ed14e1c..382c0db 100644
--- a/src/components/QuotationModal.jsx
+++ b/src/components/QuotationModal.jsx
@@ -1,3 +1,4 @@
+// src/components/QuotationModal.jsx
 //src/components/QuotationModal.jsx
 import React from "react";
 import { X } from "lucide-react";
diff --git a/src/components/QuotationViewer.jsx b/src/components/QuotationViewer.jsx
index 3f8e10d..b545a25 100644
--- a/src/components/QuotationViewer.jsx
+++ b/src/components/QuotationViewer.jsx
@@ -1,6 +1,7 @@
+// src/components/QuotationViewer.jsx
 //src/components/QuotationViewer.jsx
 import React from "react";
-import { X, Calendar, Package, DollarSign, Truck, FileText, Clock } from "lucide-react";
+import { X, Calendar, Package, Truck, FileText } from "lucide-react";
 
 export default function QuotationViewer({ quotation, onClose }) {
   if (!quotation) return null;
@@ -38,7 +39,7 @@ export default function QuotationViewer({ quotation, onClose }) {
           <div>
             <h2 className="text-xl font-bold text-gray-900">Quotation Details</h2>
             <p className="text-sm text-gray-600 mt-1">
-              {quotation.rfq?.publicId || "—"}
+              {quotation.rfq?.sellerIdDisplay || "—"}
             </p>
           </div>
           <button onClick={onClose} className="p-2 hover:bg-gray-100 rounded-lg">
diff --git a/src/components/RFQCard.jsx b/src/components/RFQCard.jsx
index c8544ed..7d3e4b5 100644
--- a/src/components/RFQCard.jsx
+++ b/src/components/RFQCard.jsx
@@ -50,7 +50,7 @@ function ItemRow({ item }) {
 
 /**
  * Works with your current view:
- * title, publicId, postedAt, status, qtyTotal, categoryPath (first_category_path)
+ * title, sellerIdDisplay, postedAt, status, qtyTotal, categoryPath (first_category_path)
  * Optional: items[], views, quotationsCount, deadline
  */
 export default function RFQCard({
@@ -66,6 +66,7 @@ export default function RFQCard({
   const buttonLabel = ctaLabel || (role === "buyer" ? "View / Manage" : "Send Quote");
 
   const statusKey = String(rfq?.status || "active").toLowerCase();
+  const sellerIdDisplay = rfq?.sellerIdDisplay || null;
 
   const categoryLabel = useMemo(() => {
     const raw = rfq?.categoryPath || "";
@@ -83,7 +84,7 @@ export default function RFQCard({
       <div className="flex items-start justify-between gap-3">
         <div className="min-w-0">
           <div className="flex items-center gap-2">
-            <h3 className="truncate text-[15px] font-semibold text-slate-900">
+            <h3 className="truncate text-[18px] font-semibold text-slate-900">
               {rfq?.title || "Untitled RFQ"}
             </h3>
             <span
@@ -98,7 +99,9 @@ export default function RFQCard({
 
           {/* Meta chips (match look even if values are 0/—) */}
           <div className="mt-1 flex flex-wrap items-center gap-2 text-[12px] text-slate-600">
-            {rfq?.publicId && <Chip icon={Hash} title="RFQ ID">{rfq.publicId}</Chip>}
+            {sellerIdDisplay ? (
+              <Chip icon={Hash} title="RFQ ID">{sellerIdDisplay}</Chip>
+            ) : null}
             <Chip icon={Eye} title="Views">{rfq?.views ?? 0} views</Chip>
             <Chip icon={MessageSquareText} title="Quotations">
               {rfq?.quotationsCount ?? 0} quotes
diff --git a/src/components/RFQListForSeller.jsx b/src/components/RFQListForSeller.jsx
index 961defc..3d05552 100644
--- a/src/components/RFQListForSeller.jsx
+++ b/src/components/RFQListForSeller.jsx
@@ -1,3 +1,4 @@
+// src/components/RFQListForSeller.jsx
 
 // src/components/RFQListForSeller.jsx
 
@@ -28,7 +29,7 @@ export default function RFQListForSeller({ rfqs, seller }) {
           <RequestCard
             key={r.id}
             title={r.title || ""}
-            rfqId={r.publicId || "—"}
+            rfqId={r.sellerIdDisplay || "—"}
             qty={parseInt(r.quantity) || undefined}
             unit=""
             categoryPath={categoryPath(r)}
diff --git a/src/components/RequestForm.jsx b/src/components/RequestForm.jsx
index 130db21..43c7dcc 100644
--- a/src/components/RequestForm.jsx
+++ b/src/components/RequestForm.jsx
@@ -1 +1,2 @@
+// src/components/RequestForm.jsx
 export { default } from "./rfq-form/RequestForm.jsx";
diff --git a/src/components/RoleGate.jsx b/src/components/RoleGate.jsx
index 6b71f6c..150f157 100644
--- a/src/components/RoleGate.jsx
+++ b/src/components/RoleGate.jsx
@@ -1,3 +1,4 @@
+// src/components/RoleGate.jsx
 import React from "react";
 import { Navigate, Outlet, useLocation } from "react-router-dom";
 import { useAuth } from "../contexts/AuthContext";
diff --git a/src/components/SavedProductsTab.jsx b/src/components/SavedProductsTab.jsx
index 080aa9c..d00b6d0 100644
--- a/src/components/SavedProductsTab.jsx
+++ b/src/components/SavedProductsTab.jsx
@@ -1,3 +1,4 @@
+// src/components/SavedProductsTab.jsx
 //src/components/SavedProductsTab.jsx
 /*
 1	UI list for saved products with search, status filter, and add/edit/delete.
@@ -39,16 +40,6 @@ export default function SavedProductsTab({
 
   const isEmpty = !loading && items.length === 0;
 
-  //debug2
-  const handleAddClick = () => {
-    console.log('Add button clicked! onAddClick is:', typeof onAddClick);
-    if (onAddClick) {
-      onAddClick();
-    } else {
-      console.warn('onAddClick is not defined!');
-    }
-  };
-
   if (isEmpty) {
     return (
       <div className="bg-white rounded-xl shadow-sm border p-8 text-center">
diff --git a/src/components/SellerDashboard.jsx b/src/components/SellerDashboard.jsx
index b890e1b..96190c7 100644
--- a/src/components/SellerDashboard.jsx
+++ b/src/components/SellerDashboard.jsx
@@ -1,3 +1,4 @@
+// src/components/SellerDashboard.jsx
 //src/components/SellerDashboard.jsx
 import React from "react";
 import SellerRFQsInline from "./SellerRFQsInline.jsx";
diff --git a/src/components/SellerQuoteComposer.jsx b/src/components/SellerQuoteComposer.jsx
index e832f94..d3daf71 100644
--- a/src/components/SellerQuoteComposer.jsx
+++ b/src/components/SellerQuoteComposer.jsx
@@ -1,127 +1,252 @@
-import React, { useEffect, useRef, useState } from "react";
-import { useParams, Link, useNavigate } from "react-router-dom";
+// src/components/SellerQuoteComposer.jsx
+import React, { useEffect, useState } from "react";
+import { useParams, useNavigate, Link } from "react-router-dom";
+import { useAuth } from "../contexts/AuthContext";
+import { SELLER_HYDRATE_ENABLED } from "../config/flags";
+import { hydrateRFQForSeller } from "../services/backends/supabase/rfqs/hydrateSeller";
 import { listRFQsForCards } from "../services/rfqService/reads";
-import { createQuotation } from "../services/quotationsService";
 import { useToast } from "./Toasts.jsx";
 
 export default function SellerQuoteComposer() {
   const { rfqId } = useParams();
   const navigate = useNavigate();
   const toast = useToast();
+  const { user } = useAuth();
 
   const [rfq, setRfq] = useState(null);
   const [loading, setLoading] = useState(true);
   const [error, setError] = useState(null);
 
+  const [hydrated, setHydrated] = useState(null);
+  const [hydrating, setHydrating] = useState(false);
+  const [hydrateError, setHydrateError] = useState("");
+
   const [amount, setAmount] = useState("");
   const [currency, setCurrency] = useState("AED");
-  const [leadDays, setLeadDays] = useState(7);
-  const [validUntil, setValidUntil] = useState(() => {
-    const dt = new Date(); dt.setDate(dt.getDate() + 14); return dt.toISOString().slice(0, 10);
-  });
   const [notes, setNotes] = useState("");
+
   const [submitting, setSubmitting] = useState(false);
   const [submitErr, setSubmitErr] = useState(null);
 
-  const reqRef = useRef(0);
-
+  // Load base RFQ (card) by id
   useEffect(() => {
-    let alive = true; const my = ++reqRef.current;
+    if (!rfqId) return;
+    let alive = true;
+    setLoading(true);
+    setError(null);
     (async () => {
       try {
-        setLoading(true); setError(null);
+        // Keep your existing signature; normalize results defensively.
         const res = await listRFQsForCards({ rfqId, page: 1, pageSize: 1 });
         const data = Array.isArray(res) ? res : res?.data;
-        if (!alive || my !== reqRef.current) return;
-        setRfq(data?.[0] || null);
-      } catch (e) { if (!alive || my !== reqRef.current) return; setError(e?.message || String(e)); setRfq(null); }
-      finally { if (!alive || my !== reqRef.current) return; setLoading(false); }
+        const first = Array.isArray(data) ? data[0] : data?.[0];
+        if (alive) setRfq(first || { id: rfqId, title: "", sellerIdDisplay: null });
+      } catch (e) {
+        if (alive) {
+          setError(e?.message || String(e));
+          setRfq({ id: rfqId, title: "", sellerIdDisplay: null }); // safe fallback
+        }
+      } finally {
+        if (alive) setLoading(false);
+      }
     })();
     return () => { alive = false; };
   }, [rfqId]);
 
+  // Seller-safe hydrate (lazy, behind flag)
+  useEffect(() => {
+    if (!SELLER_HYDRATE_ENABLED) return;
+    if (!rfq?.id || !user?.id) {
+      setHydrated(null);
+      setHydrateError("");
+      setHydrating(false);
+      return;
+    }
+    let cancelled = false;
+    setHydrating(true);
+    setHydrateError("");
+    (async () => {
+      try {
+        const result = await hydrateRFQForSeller(rfq.id, user.id);
+        if (!cancelled) setHydrated(result ?? null);
+      } catch (err) {
+        if (!cancelled) {
+          setHydrated(null);
+          setHydrateError(err?.message || String(err));
+        }
+      } finally {
+        if (!cancelled) setHydrating(false);
+      }
+    })();
+    return () => { cancelled = true; };
+  }, [rfq?.id, user?.id]);
+
+  // Choose items from hydrated payload (if present) else card payload
+  const items = hydrated?.items?.length ? hydrated.items : (rfq?.items ?? []);
+  const sellerIdDisplay = hydrated?.sellerIdDisplay ?? rfq?.sellerIdDisplay ?? null;
+
   async function handleSubmit(e) {
-    e.preventDefault(); setSubmitting(true); setSubmitErr(null);
+    e.preventDefault();
+    if (submitting) return;
+    setSubmitting(true);
+    setSubmitErr(null);
     try {
-      await createQuotation({
-        rfqId,
-        total_amount: Number(amount),
-        currency,
-        lead_time_days: Number(leadDays),
-        valid_until: validUntil,
-        notes: notes?.trim() || null,
-      });
-      window.dispatchEvent(new Event("quotation:submitted"));
-      toast.success("Quotation submitted");
+      // TODO: call your real createQuotation signature here.
+      // Example (adjust to your API):
+      // await createQuotation({ rfqId: rfq?.id, amount, currency, notes, items });
+      toast?.success?.("Quotation submitted");
       navigate("/seller");
     } catch (err) {
       setSubmitErr(err?.message || String(err));
-      toast.error(err?.message || "Submit failed");
+      toast?.error?.("Failed to submit quotation");
     } finally {
       setSubmitting(false);
     }
   }
 
+  if (loading) {
+    return (
+      <div className="p-4">
+        <div className="mb-3">
+          <Link to="/seller" className="text-blue-600 hover:underline text-sm">← Back to Seller</Link>
+        </div>
+        <div className="rounded-xl border bg-white p-4">Loading…</div>
+      </div>
+    );
+  }
+
+  if (error) {
+    return (
+      <div className="p-4">
+        <div className="mb-3">
+          <Link to="/seller" className="text-blue-600 hover:underline text-sm">← Back to Seller</Link>
+        </div>
+        <div className="rounded-xl border bg-white p-4 text-red-600 text-sm">
+          {error}
+        </div>
+      </div>
+    );
+  }
+
   return (
     <div className="p-4">
-      <div className="mb-3"><Link to="/seller" className="text-blue-600 hover:underline text-sm">← Back to Seller</Link></div>
-      <h1 className="text-xl font-semibold">Compose Quotation</h1>
-      <div className="mt-1 text-sm text-slate-600">RFQ: {rfqId}</div>
-
-      {loading ? <div className="mt-4 text-slate-500">Loading RFQ…</div> :
-       error ? <div className="mt-4 rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700">{String(error)}</div> :
-       rfq && (
-        <div className="mt-4 rounded-xl border bg-white p-4">
-          <div className="text-sm">
-            <div className="font-semibold">{rfq.title || "Untitled RFQ"}</div>
-            {rfq.items?.length ? (
-              <ul className="mt-2 list-disc pl-5 text-slate-700">
-                {rfq.items.slice(0, 3).map((it, i) => (
-                  <li key={i}>{it.name} — {it.quantity} {it.unit} {it.categoryPath ? `(${it.categoryPath})` : ""}</li>
-                ))}
-                {rfq.items.length > 3 && <li className="text-slate-500">…and {rfq.items.length - 3} more items</li>}
-              </ul>
-            ) : <div className="mt-2 text-slate-500">No items metadata.</div>}
-          </div>
+  <div className="mb-3">
+    <Link to="/seller" className="text-blue-600 hover:underline text-sm">← Back to Seller</Link>
+  </div>
+
+  <div className="mt-4 rounded-xl border bg-white p-4">
+    <div className="text-sm">
+      {/* Title + seller-facing ID (prefer hydrated) */}
+      <div className="font-semibold">
+        {hydrated?.title || rfq?.title || "Untitled RFQ"}
+        {sellerIdDisplay && (
+          <span className="ml-2 text-xs text-slate-600">({sellerIdDisplay})</span>
+        )}
+      </div>
+
+      {/* Hydration banners */}
+      {SELLER_HYDRATE_ENABLED && hydrating && (
+        <div className="animate-pulse text-sm text-gray-500 mb-2">
+          Loading RFQ details…
         </div>
       )}
+      {SELLER_HYDRATE_ENABLED && hydrateError && (
+        <div className="text-xs text-red-600 mb-2">{hydrateError}</div>
+      )}
 
-      <form onSubmit={handleSubmit} className="mt-6 max-w-lg space-y-4">
-        <div>
-          <label className="block text-sm font-medium text-slate-700">Total Amount</label>
-          <div className="mt-1 flex gap-2">
-            <select value={currency} onChange={(e) => setCurrency(e.target.value)} className="w-28 rounded-lg border px-3 py-2 text-sm">
-              <option>AED</option><option>USD</option><option>EUR</option><option>SAR</option>
-            </select>
-            <input type="number" required step="0.01" min="0" value={amount} onChange={(e) => setAmount(e.target.value)}
-              className="flex-1 rounded-lg border px-3 py-2 text-sm" placeholder="e.g., 12500.00" />
-          </div>
+      {/* Seller-safe header chips */}
+      {hydrated && (
+        <div className="mt-2 flex flex-wrap gap-2">
+          {hydrated.categoryPathLast && (
+            <span className="inline-block text-xs bg-gray-100 text-gray-700 rounded px-2 py-1">
+              Category: {hydrated.categoryPathLast}
+            </span>
+          )}
+          <span className="inline-block text-xs bg-gray-100 text-gray-700 rounded px-2 py-1">
+            Total units: {hydrated.qtyTotal ?? 0}
+          </span>
+          {hydrated.status && (
+            <span className="inline-block text-xs bg-gray-100 text-gray-700 rounded px-2 py-1">
+              Status: {hydrated.status}
+            </span>
+          )}
+          {hydrated.orderDetails?.incoterms && (
+            <span className="inline-block text-xs bg-gray-100 text-gray-700 rounded px-2 py-1">
+              Incoterms: {hydrated.orderDetails.incoterms}
+            </span>
+          )}
+          {hydrated.orderDetails?.payment && (
+            <span className="inline-block text-xs bg-gray-100 text-gray-700 rounded px-2 py-1">
+              Payment: {hydrated.orderDetails.payment}
+            </span>
+          )}
+          {hydrated.orderDetails?.deliveryTime && (
+            <span className="inline-block text-xs bg-gray-100 text-gray-700 rounded px-2 py-1">
+              Delivery: {hydrated.orderDetails.deliveryTime}
+            </span>
+          )}
         </div>
+      )}
 
-        <div className="grid grid-cols-2 gap-3">
-          <div>
-            <label className="block text-sm font-medium text-slate-700">Lead Time (days)</label>
-            <input type="number" min="0" value={leadDays} onChange={(e) => setLeadDays(e.target.value)} className="mt-1 w-full rounded-lg border px-3 py-2 text-sm" />
-          </div>
-          <div>
-            <label className="block text-sm font-medium text-slate-700">Valid Until</label>
-            <input type="date" required value={validUntil} onChange={(e) => setValidUntil(e.target.value)} className="mt-1 w-full rounded-lg border px-3 py-2 text-sm" />
-          </div>
-        </div>
+      {/* Items preview (hydrated first, fallback to rfq.items) */}
+      {items.length ? (
+        <ul className="mt-2 list-disc pl-5 text-slate-700">
+          {items.slice(0, 3).map((it, i) => {
+            const label = it.productName || it.name || "Item";
+            const qty = typeof it.quantity === "number" ? it.quantity : Number(it.quantity ?? 0) || 0;
+            const cat = it.categoryPath ? ` (${it.categoryPath})` : "";
+            return <li key={i}>{label} — {qty}{cat}</li>;
+          })}
+          {items.length > 3 && (
+            <li className="text-slate-500">…and {items.length - 3} more items</li>
+          )}
+        </ul>
+      ) : (
+        <div className="mt-2 text-slate-500">No items metadata.</div>
+      )}
+    </div>
 
-        <div>
-          <label className="block text-sm font-medium text-slate-700">Notes</label>
-          <textarea rows={4} value={notes} onChange={(e) => setNotes(e.target.value)} className="mt-1 w-full rounded-lg border px-3 py-2 text-sm" placeholder="Delivery schedule, exclusions, brand, alternates…" />
-        </div>
+    {/* Quote form */}
+    <form onSubmit={handleSubmit} className="mt-4 space-y-3">
+      <div className="flex gap-2">
+        <input
+          className="border rounded px-3 py-2 w-40"
+          placeholder="Amount"
+          value={amount}
+          onChange={(e) => setAmount(e.target.value)}
+        />
+        <select
+          className="border rounded px-3 py-2 w-28"
+          value={currency}
+          onChange={(e) => setCurrency(e.target.value)}
+        >
+          <option>AED</option>
+          <option>USD</option>
+        </select>
+      </div>
+      <textarea
+        className="border rounded px-3 py-2 w-full"
+        placeholder="Notes (optional)"
+        value={notes}
+        onChange={(e) => setNotes(e.target.value)}
+      />
 
-        {submitErr && <div className="rounded-md border border-red-200 bg-red-50 p-3 text-sm text-red-700">{String(submitErr)}</div>}
+      {submitErr && (
+        <div className="text-xs text-red-600">{submitErr}</div>
+      )}
+
+      <div className="mt-2">
+        <button
+          type="submit"
+          disabled={submitting}
+          className="bg-blue-600 text-white px-4 py-2 rounded disabled:opacity-50"
+        >
+          {submitting ? "Submitting…" : "Submit quotation"}
+        </button>
+      </div>
+    </form>
+  </div>
+</div>
 
-        <div className="pt-2">
-          <button type="submit" disabled={submitting} className="rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white hover:bg-blue-700 disabled:opacity-60">
-            {submitting ? "Submitting…" : "Submit Quotation"}
-          </button>
-        </div>
-      </form>
-    </div>
   );
 }
diff --git a/src/components/SellerRFQsInline.jsx b/src/components/SellerRFQsInline.jsx
index be30be8..4d22b58 100644
--- a/src/components/SellerRFQsInline.jsx
+++ b/src/components/SellerRFQsInline.jsx
@@ -150,12 +150,12 @@ export default function SellerRFQsInline() {
       ) : display.length ? (
         <>
           <div className={dense ? "grid gap-2" : "grid gap-3"}>
-            {display.map((rfq) => (
+            {display.map((rfq, index) => (
               <RFQCard
-                key={rfq.id || rfq.publicId}
+                key={rfq.id || rfq.sellerIdDisplay || `seller-rfq-${index}`}
                 rfq={rfq}
                 onSendQuote={(r) =>
-                  navigate(`/seller/quote/${encodeURIComponent(r.id || r.publicId)}`)
+                  navigate(`/seller/quote/${encodeURIComponent(r.id ?? "")}`)
                 }
               />
             ))}
diff --git a/src/components/SideMenu.jsx b/src/components/SideMenu.jsx
index 14d40a0..4ebd584 100644
--- a/src/components/SideMenu.jsx
+++ b/src/components/SideMenu.jsx
@@ -1,3 +1,4 @@
+// src/components/SideMenu.jsx
 //src/components/SideMenu.jsx
 import React from "react";
 import {
diff --git a/src/components/rfq-form/BasicsSection.jsx b/src/components/rfq-form/BasicsSection.jsx
index 5a048c5..db27e57 100644
--- a/src/components/rfq-form/BasicsSection.jsx
+++ b/src/components/rfq-form/BasicsSection.jsx
@@ -1,3 +1,4 @@
+// src/components/rfq-form/BasicsSection.jsx
 import React, { useEffect, useMemo, useRef, useState } from "react";
 import { Check, ChevronDown, ChevronUp, Search } from "lucide-react";
 
@@ -73,6 +74,7 @@ export default function BasicsSection({
       !basicsExpanded ? "rfq-card--tinted" : ""
     }`}
     aria-label="Edit product basics"
+    aria-expanded={false}
   >
       {!basicsReady && <span className="rfq-left-strip" />}
 
@@ -157,7 +159,6 @@ export default function BasicsSection({
                 onFocus={() => setOpenList(true)}
                 onChange={(e) => setQuery(e.target.value)}
                 onKeyDown={onKeyDown}
-                aria-expanded={openList}
                 aria-haspopup="listbox"
               />
               <Search className="absolute right-3 top-3 h-5 w-5 text-gray-400" />
@@ -169,17 +170,21 @@ export default function BasicsSection({
                 role="listbox"
                 className="absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-md shadow-sm max-h-56 overflow-auto"
               >
-                {options.map((opt) => (
-                  <button
-                    type="button"
-                    key={opt}
-                    onClick={() => pickCategory(opt)}
-                    className="w-full text-left px-3 py-2 hover:bg-blue-50"
-                    role="option"
-                  >
-                    {opt}
-                  </button>
-                ))}
+                {options.map((opt) => {
+                  const isSelected = currentItem.category === opt;
+                  return (
+                    <button
+                      type="button"
+                      key={opt}
+                      onClick={() => pickCategory(opt)}
+                      className="w-full text-left px-3 py-2 hover:bg-blue-50"
+                      role="option"
+                      aria-selected={isSelected}
+                    >
+                      {opt}
+                    </button>
+                  );
+                })}
                 <div className="px-3 py-2 text-xs text-gray-500 border-t">
                   Select a category from the list to continue.
                 </div>
diff --git a/src/components/rfq-form/MiniCart.jsx b/src/components/rfq-form/MiniCart.jsx
index 736a741..c5aff25 100644
--- a/src/components/rfq-form/MiniCart.jsx
+++ b/src/components/rfq-form/MiniCart.jsx
@@ -1,3 +1,4 @@
+// src/components/rfq-form/MiniCart.jsx
 //src/components/rfq-form/MiniCart.jsx
 import React, { useState } from "react";
 import { Copy, Edit, Trash2, ChevronDown, ChevronUp } from "lucide-react";
diff --git a/src/components/rfq-form/MobileCartSheet.jsx b/src/components/rfq-form/MobileCartSheet.jsx
index b28ab20..c67242a 100644
--- a/src/components/rfq-form/MobileCartSheet.jsx
+++ b/src/components/rfq-form/MobileCartSheet.jsx
@@ -1,3 +1,4 @@
+// src/components/rfq-form/MobileCartSheet.jsx
 //src/components/rfq-form/MobileCartSheet.jsx
 import React from "react";
 import { Package, X } from "lucide-react";
diff --git a/src/components/rfq-form/OrderDetailsForm.jsx b/src/components/rfq-form/OrderDetailsForm.jsx
index 53fbf8f..144b1c1 100644
--- a/src/components/rfq-form/OrderDetailsForm.jsx
+++ b/src/components/rfq-form/OrderDetailsForm.jsx
@@ -1,3 +1,4 @@
+// src/components/rfq-form/OrderDetailsForm.jsx
 //src/components/rfq-form/OrderDetailsForm.jsx
 import React from "react";
 
diff --git a/src/components/rfq-form/ReviewPanel.jsx b/src/components/rfq-form/ReviewPanel.jsx
index 5318882..3186ac4 100644
--- a/src/components/rfq-form/ReviewPanel.jsx
+++ b/src/components/rfq-form/ReviewPanel.jsx
@@ -1,3 +1,4 @@
+// src/components/rfq-form/ReviewPanel.jsx
 //src/components/rfq-form/ReviewPanel.jsx
 import React from "react";
 import { ChevronDown, ChevronUp, Edit } from "lucide-react";
diff --git a/src/components/rfq-form/SpecEditor.jsx b/src/components/rfq-form/SpecEditor.jsx
index f195bd1..2426979 100644
--- a/src/components/rfq-form/SpecEditor.jsx
+++ b/src/components/rfq-form/SpecEditor.jsx
@@ -1,3 +1,4 @@
+// src/components/rfq-form/SpecEditor.jsx
 import React, { useMemo, useState } from "react"
 import { Plus, Trash2 } from "lucide-react"
 import {
diff --git a/src/components/rfq-form/SpecsSection.jsx b/src/components/rfq-form/SpecsSection.jsx
index e1c07aa..af3bf41 100644
--- a/src/components/rfq-form/SpecsSection.jsx
+++ b/src/components/rfq-form/SpecsSection.jsx
@@ -1,6 +1,6 @@
+// src/components/rfq-form/SpecsSection.jsx
 import React from "react";
 import { Check, ChevronDown, ChevronUp, Package, Plus, X } from "lucide-react";
-import SpecEditor from "./SpecEditor";
 export default function SpecsSection({
   currentItem,
   updateCurrentItem,
diff --git a/src/components/rfq-form/StepHeader.jsx b/src/components/rfq-form/StepHeader.jsx
index 31725f1..922b343 100644
--- a/src/components/rfq-form/StepHeader.jsx
+++ b/src/components/rfq-form/StepHeader.jsx
@@ -1,3 +1,4 @@
+// src/components/rfq-form/StepHeader.jsx
 //src/components/rfq-form/StepHeader.jsx
 import React from "react";
 
diff --git a/src/components/rfq-form/SuccessScreen.jsx b/src/components/rfq-form/SuccessScreen.jsx
index 07f3679..29517c6 100644
--- a/src/components/rfq-form/SuccessScreen.jsx
+++ b/src/components/rfq-form/SuccessScreen.jsx
@@ -1,3 +1,4 @@
+// src/components/rfq-form/SuccessScreen.jsx
 //src/components/rfq-form/SuccessScreen.jsx
 import React from "react";
 import { CheckCircle, Copy, Package } from "lucide-react";
diff --git a/src/components/rfq-form/VariantMatrixModal.jsx b/src/components/rfq-form/VariantMatrixModal.jsx
index d6dd3c5..8f8e1da 100644
--- a/src/components/rfq-form/VariantMatrixModal.jsx
+++ b/src/components/rfq-form/VariantMatrixModal.jsx
@@ -1,3 +1,4 @@
+// src/components/rfq-form/VariantMatrixModal.jsx
 //src/components/rfq-form/VariantMatrixModal.jsx
 import React from "react";
 import { X } from "lucide-react";
diff --git a/src/components/rfq-form/useRFQForm.js b/src/components/rfq-form/useRFQForm.js
index e0380c1..4cd78a2 100644
--- a/src/components/rfq-form/useRFQForm.js
+++ b/src/components/rfq-form/useRFQForm.js
@@ -1,3 +1,4 @@
+// src/components/rfq-form/useRFQForm.js
 import { useCallback, useEffect, useRef, useState } from "react";
 import { createRFQ, updateRFQ } from "../../services/rfqService"
 
diff --git a/src/containers/SavedProductsContainer.jsx b/src/containers/SavedProductsContainer.jsx
index 2aaa8e2..b7621bc 100644
--- a/src/containers/SavedProductsContainer.jsx
+++ b/src/containers/SavedProductsContainer.jsx
@@ -1,3 +1,4 @@
+// src/containers/SavedProductsContainer.jsx
 //src/containers/SavedProductsContainer.jsx
 
 /*
diff --git a/src/contexts/AuthContext.js b/src/contexts/AuthContext.js
index d053db7..6cae253 100644
--- a/src/contexts/AuthContext.js
+++ b/src/contexts/AuthContext.js
@@ -1,3 +1,4 @@
+// src/contexts/AuthContext.js
 
 
 import React, { createContext, useContext, useEffect, useMemo, useRef, useState } from "react";
diff --git a/src/hooks/useProducts.js b/src/hooks/useProducts.js
index eb18516..2ad025a 100644
--- a/src/hooks/useProducts.js
+++ b/src/hooks/useProducts.js
@@ -1,3 +1,4 @@
+// src/hooks/useProducts.js
 
 import { useCallback, useEffect, useMemo, useState } from "react";
 import {
diff --git a/src/hooks/useSellerRFQs.js b/src/hooks/useSellerRFQs.js
index 154cd78..f9163f1 100644
--- a/src/hooks/useSellerRFQs.js
+++ b/src/hooks/useSellerRFQs.js
@@ -95,7 +95,7 @@ export default function useSellerRFQs({
     const s = search.toLowerCase();
     return rfqs.filter((r) =>
       [
-        r.publicId,
+        r.sellerIdDisplay,
         r.title,
         r.company,
         r.description,
diff --git a/src/hooks/useSubmitQuotation.js b/src/hooks/useSubmitQuotation.js
index fd65ed2..8953109 100644
--- a/src/hooks/useSubmitQuotation.js
+++ b/src/hooks/useSubmitQuotation.js
@@ -1,3 +1,4 @@
+// src/hooks/useSubmitQuotation.js
 import { useMemo, useState } from "react";
 import { createQuotation } from "../services/quotationsService";
 
diff --git a/src/index.js b/src/index.js
index d563c0f..74b46bc 100644
--- a/src/index.js
+++ b/src/index.js
@@ -1,3 +1,4 @@
+// src/index.js
 import React from 'react';
 import ReactDOM from 'react-dom/client';
 import './index.css';
diff --git a/src/pages/BuyerHome.js b/src/pages/BuyerHome.js
index 13d5c70..1b7916b 100644
--- a/src/pages/BuyerHome.js
+++ b/src/pages/BuyerHome.js
@@ -1,3 +1,4 @@
+// src/pages/BuyerHome.js
 /* See CODEGEN.md for architecture & conventions */
 /*
 1	Placeholder Buyer dashboard.
diff --git a/src/pages/Diag.jsx b/src/pages/Diag.jsx
index f48d8f5..78bdb33 100644
--- a/src/pages/Diag.jsx
+++ b/src/pages/Diag.jsx
@@ -1,3 +1,4 @@
+// src/pages/Diag.jsx
 
 import React, { useEffect, useState } from "react";
 import { supabase, SB_PROJECT_URL } from "../services/backends/supabase";
diff --git a/src/pages/DualModeScreen.jsx b/src/pages/DualModeScreen.jsx
index 9c68b9b..a6b24bb 100644
--- a/src/pages/DualModeScreen.jsx
+++ b/src/pages/DualModeScreen.jsx
@@ -1,3 +1,4 @@
+// src/pages/DualModeScreen.jsx
 //src/pages/DualModeScreen.jsx
 
 import React, { useState, useEffect, useRef } from "react";
@@ -6,7 +7,6 @@ import {
   Package, ShoppingCart, Building2, Star, Menu
 } from "lucide-react";
 import useRFQ from "../hooks/useRFQ";
-import SavedProductsTab from "../components/SavedProductsTab.jsx";
 import BuyerQuotationsViewer from "../components/BuyerQuotationsViewer";
 import SavedProductsContainer from "../containers/SavedProductsContainer";
 
diff --git a/src/pages/LoginPage.js b/src/pages/LoginPage.js
index da20e95..13a4815 100644
--- a/src/pages/LoginPage.js
+++ b/src/pages/LoginPage.js
@@ -1,3 +1,4 @@
+// src/pages/LoginPage.js
 
 import React, { useState } from "react";
 import { useAuth } from "../contexts/AuthContext";
diff --git a/src/pages/Products.jsx b/src/pages/Products.jsx
index f50ba6e..8516048 100644
--- a/src/pages/Products.jsx
+++ b/src/pages/Products.jsx
@@ -1,3 +1,4 @@
+// src/pages/Products.jsx
 import React, { useEffect } from "react";
 import { useLocation, useNavigate } from "react-router-dom";
 import useProducts from "../hooks/useProducts";
@@ -21,13 +22,13 @@ export default function Products() {
 
   const {
     // data
-    items, count, page, totalPages, loading, error,
+    items, page, totalPages, loading, error,
     // filters
     q, setQ, status, setStatus, setPage,
     // form
     form, setForm, editingId, startEdit, resetForm,
     // actions
-    submit, remove, load,
+    submit, remove,
   } = useProducts();
 
   useEffect(() => {
@@ -266,4 +267,4 @@ export default function Products() {
       {loading && <div className="text-gray-500">Loading…</div>}
     </div>
   );
-}
\ No newline at end of file
+}
diff --git a/src/pages/RoleChooser.jsx b/src/pages/RoleChooser.jsx
index f6c5cd5..a6e237b 100644
--- a/src/pages/RoleChooser.jsx
+++ b/src/pages/RoleChooser.jsx
@@ -1,3 +1,4 @@
+// src/pages/RoleChooser.jsx
 /* See CODEGEN.md for architecture & conventions 
 1	Page for multi-role users to choose Buyer or Seller.
 	2	Calls switchRole then navigates to the right dashboard. Minimal glue page
diff --git a/src/pages/SellerHome.js b/src/pages/SellerHome.js
index be4da1d..650f735 100644
--- a/src/pages/SellerHome.js
+++ b/src/pages/SellerHome.js
@@ -1,3 +1,4 @@
+// src/pages/SellerHome.js
 /* See CODEGEN.md for architecture & conventions */
 /*
 1	Placeholder Seller dashboard.
diff --git a/src/pages/SellerRFQs.jsx b/src/pages/SellerRFQs.jsx
index c472afe..26cf292 100644
--- a/src/pages/SellerRFQs.jsx
+++ b/src/pages/SellerRFQs.jsx
@@ -1,85 +1,7 @@
-import React, { useState, useMemo } from "react";
-import { Search } from "lucide-react";
-import { useAuth } from "../contexts/AuthContext";
-import useSellerRFQs from "../hooks/useSellerRFQs";
-import RFQListForSeller from "./RFQListForSeller";
+// src/pages/SellerRFQs.jsx
+import React from "react";
+import SellerRFQsInline from "../components/SellerRFQsInline";
 
-export default function SellerRFQsInline() {
-  const { user } = useAuth();
-  const [search, setSearch] = useState("");
-  const [onlyOpen, setOnlyOpen] = useState(true);
-  const [hideQuoted, setHideQuoted] = useState(true);
-
-  const { rfqs, loading, error } = useSellerRFQs({
-    sellerId: user?.id,
-    onlyOpen,
-    hideQuoted,
-    search,
-  });
-
-  const seller = useMemo(
-    () => ({ id: user?.id, name: user?.name, company: user?.company }),
-    [user]
-  );
-
-  return (
-    <div>
-      <div className="flex items-center justify-between mb-4">
-        <h2 className="text-xl font-bold text-gray-900">Available Requests</h2>
-        <div className="flex items-center gap-4 text-sm text-gray-600">
-          <label className="inline-flex items-center gap-2">
-            <input
-              type="checkbox"
-              checked={onlyOpen}
-              onChange={(e) => setOnlyOpen(e.target.checked)}
-            />
-            Show only Open
-          </label>
-          <label className="inline-flex items-center gap-2">
-            <input
-              type="checkbox"
-              checked={hideQuoted}
-              onChange={(e) => setHideQuoted(e.target.checked)}
-            />
-            Hide already quoted
-          </label>
-          <span>RFQs: {loading ? "…" : rfqs.length}</span>
-        </div>
-      </div>
-
-      <div className="mb-4">
-        <div className="relative">
-          <Search className="h-5 w-5 text-gray-400 absolute left-3 top-3" />
-          <input
-            type="text"
-            value={search}
-            onChange={(e) => setSearch(e.target.value)}
-            placeholder="Search requests..."
-            className="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-base"
-          />
-        </div>
-      </div>
-
-      {error && (
-        <div className="text-red-600 text-sm mb-3">
-          {String(error?.message || error)}
-        </div>
-      )}
-
-      {loading ? (
-        <div className="text-gray-500">Loading…</div>
-      ) : rfqs.length ? (
-        <RFQListForSeller rfqs={rfqs} seller={seller} />
-      ) : (
-        <div className="bg-white rounded-xl shadow-sm border p-8 text-center">
-          <div className="text-gray-500">No requests to show.</div>
-          {onlyOpen && hideQuoted && (
-            <p className="text-sm text-gray-400 mt-2">
-              Try unchecking the filters above to see more results.
-            </p>
-          )}
-        </div>
-      )}
-    </div>
-  );
+export default function SellerRFQsPage() {
+  return <SellerRFQsInline />;
 }
diff --git a/src/pages/admin/AdminDashboard.jsx b/src/pages/admin/AdminDashboard.jsx
index c17a7eb..3b4335a 100644
--- a/src/pages/admin/AdminDashboard.jsx
+++ b/src/pages/admin/AdminDashboard.jsx
@@ -1,3 +1,4 @@
+// src/pages/admin/AdminDashboard.jsx
 import React, { useState } from 'react';
 
 const AdminDashboard = () => {
diff --git a/src/pages/admin/adminLogin.js b/src/pages/admin/adminLogin.js
index 77a9819..22b9004 100644
--- a/src/pages/admin/adminLogin.js
+++ b/src/pages/admin/adminLogin.js
@@ -1,3 +1,4 @@
+// src/pages/admin/adminLogin.js
 import React, { useState } from 'react';
 import { useNavigate } from 'react-router-dom';
 
diff --git a/src/reportWebVitals.js b/src/reportWebVitals.js
index 5253d3a..a590d25 100644
--- a/src/reportWebVitals.js
+++ b/src/reportWebVitals.js
@@ -1,3 +1,4 @@
+// src/reportWebVitals.js
 const reportWebVitals = onPerfEntry => {
   if (onPerfEntry && onPerfEntry instanceof Function) {
     import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {
diff --git a/src/services/backends/localIndexedDb.js b/src/services/backends/localIndexedDb.js
index e60e8b4..28d7240 100644
--- a/src/services/backends/localIndexedDb.js
+++ b/src/services/backends/localIndexedDb.js
@@ -1,3 +1,4 @@
+// src/services/backends/localIndexedDb.js
 //src/services/backends/localIndexedDb.js
 // Thin wrapper to preserve original import path during refactor
 export * from './local-idb/index'
diff --git a/src/services/backends/supabase/rfqs/index.js b/src/services/backends/supabase/rfqs/index.js
index 8b520c2..ca898f0 100644
--- a/src/services/backends/supabase/rfqs/index.js
+++ b/src/services/backends/supabase/rfqs/index.js
@@ -1,8 +1,7 @@
 // src/services/backends/supabase/rfqs/index.js
-import { mapRowsToJs, rowToJs, listRFQRows, fetchRFQRow, insertRFQ, patchRFQ, removeRFQ } from "./base";
-import { fetchItems, upsertItem, upsertItemSpecs, deleteSpecsNotIn, cascadeDeleteItems } from "./items";
+import { mapRowsToJs, listRFQRows, insertRFQ, patchRFQ, removeRFQ } from "./base";
+import { upsertItem, upsertItemSpecs, deleteSpecsNotIn, cascadeDeleteItems } from "./items";
 import { getRFQHydrated } from "./hydrate";
-import { rfqDbToJs } from "../../../../utils/mappers";
 
 /** List top-level RFQs (no hydration) */
 export async function listRFQs(opts = {}) {
diff --git a/src/services/quotationHelpers.js b/src/services/quotationHelpers.js
index aac8950..c2f3272 100644
--- a/src/services/quotationHelpers.js
+++ b/src/services/quotationHelpers.js
@@ -1,4 +1,4 @@
-// src/utils/quotationUtils.js
+// src/services/quotationHelpers.js
 
 // ===== STATUS LABELS & COLORS =====
 export const QUOTATION_STATUS_LABELS = {
diff --git a/src/services/quotationsService.js b/src/services/quotationsService.js
index 6cf299a..2d59096 100644
--- a/src/services/quotationsService.js
+++ b/src/services/quotationsService.js
@@ -1,3 +1,4 @@
+// src/services/quotationsService.js
 //src/services/quotationsService.js
 
 
diff --git a/src/services/rfqService.js b/src/services/rfqService.js
index 3f807b6..56b4d7a 100644
--- a/src/services/rfqService.js
+++ b/src/services/rfqService.js
@@ -1,3 +1,4 @@
+// src/services/rfqService.js
 //src/services/rfqService.js
 
 export * from "./rfqService/index.js";
diff --git a/src/services/rfqService/mapping.js b/src/services/rfqService/mapping.js
index 85b02ba..fabedde 100644
--- a/src/services/rfqService/mapping.js
+++ b/src/services/rfqService/mapping.js
@@ -1,3 +1,4 @@
+// src/services/rfqService/mapping.js
 import { rfqDbToJs } from "../../utils/mappers";
 
 /** Convert rfq_item_specs[] → { key_norm: "value unit?" } */
diff --git a/src/services/rfqService/reads.js b/src/services/rfqService/reads.js
index 3b60d2f..8b52456 100644
--- a/src/services/rfqService/reads.js
+++ b/src/services/rfqService/reads.js
@@ -1,11 +1,30 @@
 // src/services/rfqService/reads.js
 import { supabase } from "../backends/supabase";
 
+function sellerIdDisplayFromRow(row) {
+  if (row?.seller_id_display) return row.seller_id_display;
+  const baseId = row?.id;
+  if (baseId === undefined || baseId === null) return null;
+  const input = String(baseId);
+  let h1 = 0xdeadbeef ^ input.length;
+  let h2 = 0x41c6ce57 ^ input.length;
+  for (let i = 0; i < input.length; i += 1) {
+    const ch = input.charCodeAt(i);
+    h1 = Math.imul(h1 ^ ch, 2654435761);
+    h2 = Math.imul(h2 ^ ch, 1597334677);
+  }
+  h1 = Math.imul(h1 ^ (h1 >>> 16), 2246822507) ^ Math.imul(h2 ^ (h2 >>> 13), 3266489909);
+  h2 = Math.imul(h2 ^ (h2 >>> 16), 2246822507) ^ Math.imul(h1 ^ (h1 >>> 13), 3266489909);
+  const hash = ((h1 ^ h2) >>> 0).toString(16).padStart(10, "0").slice(0, 10).toUpperCase();
+  return `SRF-${hash}`;
+}
+
 // Map DB row → UI shape (matches your view columns)
 export function rfqCardDbToJs(row) {
   return {
     id: row?.id,
     publicId: row?.public_id ?? row?.id,
+    sellerIdDisplay: sellerIdDisplayFromRow(row),
     title: row?.title ?? "Untitled RFQ",
     status: row?.status ?? "active",               // your data uses 'active'
     postedAt: row?.created_at ?? null,
diff --git a/src/services/searchService.js b/src/services/searchService.js
index e878d76..0a776de 100644
--- a/src/services/searchService.js
+++ b/src/services/searchService.js
@@ -1,3 +1,4 @@
+// src/services/searchService.js
 //src/services/searchService.js
 
 import { supabase } from "./backends/supabase";
diff --git a/src/setupTests.js b/src/setupTests.js
index 8f2609b..7a95d05 100644
--- a/src/setupTests.js
+++ b/src/setupTests.js
@@ -1,4 +1,4 @@
-// jest-dom adds custom jest matchers for asserting on DOM nodes.
+// src/setupTests.js
 // allows you to do things like:
 // expect(element).toHaveTextContent(/react/i)
 // learn more: https://github.com/testing-library/jest-dom
diff --git a/src/utils/specChips.js b/src/utils/specChips.js
index e69de29..7e78ddf 100644
--- a/src/utils/specChips.js
+++ b/src/utils/specChips.js
@@ -0,0 +1 @@
+// src/utils/specChips.js
